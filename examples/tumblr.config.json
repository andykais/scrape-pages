{
  "input": "username",
  "defs": {
    "user": {
      "download": {
        "urlTemplate": "https://{{ username }}.tumblr.com/api/read/json?start={{'*' index 50 }}&num=50"
      },
      "incrementUntil": "failed-download"
    },
    "parse-json": {
      "parse": {
        "expect": "json",
        "selector": "posts[type:photo]"
      },
      "regexCleanup": "var tumblr_api_read = "
    },
    "image-page": {
      "parse": {
        "selector": "photo-url-1280"
      },
      "regexCleanup": {
        "select": "https://d+?.",
        "replace": "https://"
      }
    },
    "image": {
      "download": "{value}"
    },
    "tags": {
      "parse": {
        "selector": "tags"
      }
    }
  },
  "structure": {
    "scraper": "user",
    "scrapeEach": {
      "scraper": "parse-json",
      "scrapeEach": [
        {
          "scraper": "image-page",
          "scrapeEach": {
            "scraper": "image"
          }
        },
        {
          "scraper": "tags"
        }
      ]
    }
  }
}
